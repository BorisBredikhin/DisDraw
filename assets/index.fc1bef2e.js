var h=Object.defineProperty;var d=(r,t,e)=>t in r?h(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var s=(r,t,e)=>(d(r,typeof t!="symbol"?t+"":t,e),e);const m=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}};m();class p{constructor(t,e){s(this,"x");s(this,"y");this.x=t,this.y=e}}class g{constructor(t,e,o){s(this,"container");s(this,"element",null);s(this,"ctx");s(this,"position",new p(0,0));s(this,"_down",!1);s(this,"statusElement");s(this,"statusbar");this.container=t,this.ctx=e,this.statusbar=o,this.statusElement=this.statusbar.add()}get down(){return this._down}set down(t){this.statusElement.innerHTML=t?"\u041E\u043F\u0443\u0449\u0435\u043D\u043E":"\u041F\u043E\u0434\u043D\u044F\u0442\u043E",this._down=t}createElement(){this.element=document.createElement("div"),this.element.classList.add("cursor"),this.container.appendChild(this.element),this.toCenter()}toCenter(){this.moveTo(this.container.clientWidth/2,this.container.scrollHeight/2)}moveTo(t,e){this.element.style.setProperty("--x",`${t-5}px`),this.element.style.setProperty("--y",`${e-5}px`),this.down&&(this.ctx.beginPath(),this.ctx.moveTo(this.position.x,this.position.y),this.ctx.lineTo(t,e),this.ctx.stroke()),this.position.x=t,this.position.y=e}moveDelta(t,e){this.moveTo(this.position.x+t,this.position.y+e)}rotate(t){var e;(e=this.element)==null||e.style.setProperty("--angle",`${t}rad`)}}class v{constructor(t,e){s(this,"cursor");s(this,"_listener");s(this,"statusbar");s(this,"_statusBarElement");this.cursor=t,this.statusbar=e,this._statusBarElement=e.add()}setup(){this._listener=t=>this.listener(t),document.addEventListener("keydown",this._listener)}remove(){document.removeEventListener("keydown",this._listener)}tick(){}}class f extends v{constructor(){super(...arguments);s(this,"speedX",1);s(this,"speedY",0);s(this,"angle",0);s(this,"acclrX",0);s(this,"acclrY",0);s(this,"acclrAngle",0)}tick(){this._statusBarElement.innerHTML=`\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C: ${this.speedX}<br>
        \u0423\u0433\u043E\u043B: ${this.angle}`,this.cursor.rotate(this.angle)}listener(e){switch(e.code){case"Numpad2":this.cursor.moveDelta(-this.speedX*Math.cos(this.angle),-this.speedX*Math.sin(this.angle));break;case"Numpad4":this.angle-=.1;break;case"Numpad5":this.cursor.down=!this.cursor.down;break;case"Numpad6":this.angle+=.1;break;case"Numpad8":this.cursor.moveDelta(this.speedX*Math.cos(this.angle),this.speedX*Math.sin(this.angle));break}}}class E{constructor(t,e){s(this,"cnv");s(this,"ctx");s(this,"cursor");s(this,"cursorMode");s(this,"statusbar");s(this,"status");this.cnv=t,t.height=t.clientHeight,t.width=t.clientWidth,this.ctx=this.cnv.getContext("2d"),this.ctx.strokeStyle="black",this.statusbar=e,this.status=this.statusbar.add(),this.status.innerHTML=`
        <div id='color'></div>
        <button id='save'>\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C</button>
        `,this.cursor=new g(this.cnv.parentElement,this.ctx,this.statusbar),this.cursor.createElement(),this.cursorMode=new f(this.cursor,this.statusbar),this.cursorMode.setup(),document.getElementById("save").addEventListener("click",i=>{let n=document.createElement("a");n.download="canvas.png",n.href=this.cnv.toDataURL(),n.click()}),setInterval(()=>this.cursorMode.tick(),200)}initiali1ze(){}}class y{constructor(){s(this,"element");this.element=document.createElement("div"),this.element.classList.add("status-bar")}add(){let t=document.createElement("div");return this.element.appendChild(t),t}}const c=document.querySelector("#app"),u=document.createElement("canvas");c.appendChild(u);const l=new y;c.appendChild(l.element);const b=new E(u,l);b.initiali1ze();
